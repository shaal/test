uuid: d8043ce2-3576-456e-8ec2-38f6b0c65f3f
langcode: en
status: true
dependencies:
  enforced:
    module:
      - towerhealth_migration
_core:
  default_config_hash: LQeYBQFFFHmnYYXOjn8qvWMS44m3ME6PM7ETlirQb7c
id: towerhealth_ratings
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - towerhealth
migration_group: towerhealth
label: 'Physician Ratings'
source:
  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: json
  urls:
    - modules/custom/towerhealth_migration/data/ratings.json
  item_selector: data/entities
  track_changes: true
  fields:
    -
      name: display_name
      label: 'Display Name'
      selector: name
    -
      name: npi_id
      label: 'NPI ID'
      selector: id
    -
      name: totalRatingCount
      label: 'Rating Count'
      selector: totalRatingCount
    -
      name: totalCommentCount
      label: 'Comment Count'
      selector: totalCommentCount
    -
      name: overallRating
      label: 'Overall Rating'
      selector: overallRating/value
  ids:
    npi_id:
      type: integer
process:
  type:
    plugin: default_value
    default_value: profile
  field_profile_npi: npi_id
  field_rating_count: totalRatingCount
  field_rating_comment_count: totalCommentCount
  field_rating_overall: overallRating
destination:
  plugin: node_merge
  lookup_field: field_profile_npi
migration_dependencies: {  }
